{{/* layouts/partials/templates/schema_json.html
     ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–≤–æ–¥ JSON-LD (Organization only)
     ‚Äî BlogPosting –æ—Ç–∫–ª—é—á—ë–Ω, —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å JSON.
     ‚Äî –ö–æ–¥–∏—Ä–æ–≤–∫–∞: UTF-8 (–±–µ–∑ BOM).
*/}}

{{/* =========================
     1) –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Organization/Person)
     ========================= */}}
{{ if .IsHome }}
  {{- $publisherType := ( .Site.Params.schema.publisherType | default "Organization") | title -}}

  {{- $data := dict
        "@context"    "https://schema.org"
        "@type"       $publisherType
        "name"        .Site.Title
        "url"         .Site.Home.Permalink
        "description" ( .Site.Params.description | plainify | truncate 180 )
    -}}

  {{- $logo := ( .Site.Params.assets.favicon | default "favicon.ico" ) | absURL -}}
  {{- if eq $publisherType "Person" -}}
    {{- $data = merge $data (dict "image" $logo) -}}
  {{- else -}}
    {{- $data = merge $data (dict "logo"  $logo) -}}
  {{- end -}}

  {{- with .Site.Params.schema.sameAs -}}
    {{- $data = merge $data (dict "sameAs" .) -}}
  {{- end -}}

  <script type="application/ld+json">{{ $data | jsonify | safeJS }}</script>
{{ end }}

{{/* =========================
     2) –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å—Ç–∞ (BlogPosting)
     =========================
     üîí –û—Ç–∫–ª—é—á–µ–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å JSON-LD.
     Accordion-FAQ —É–∂–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π BlogPosting.
*/}}
{{/*
{{ if .IsPage }}
  {{- $authorName := .Params.author | default ( .Site.Params.author.name | default "Nailak Editorial" ) -}}
  {{- $img := "" -}}
  {{- with .Params.featuredImage }}{{ $img = . }}{{ end -}}
  {{- $images := cond (ne $img "") (slice ($img | absURL)) (slice) -}}

  {{- $published := ( .PublishDate | default .Date ) -}}
  {{- $modified  := ( .Lastmod     | default .Date ) -}}

  {{- $data := dict
        "@context"         "https://schema.org"
        "@type"            "BlogPosting"
        "headline"         .Title
        "mainEntityOfPage" (dict "@type" "WebPage" "@id" .Permalink)
        "datePublished"    ( $published | time.Format "2006-01-02T15:04:05Z07:00" )
        "dateModified"     ( $modified  | time.Format "2006-01-02T15:04:05Z07:00" )
        "author"           (dict "@type" "Person" "name" $authorName)
        "image"            $images
        "description"      ( ( .Params.description | default .Summary ) | plainify )
    -}}

  {{- $publisherType := ( .Site.Params.schema.publisherType | default "Organization") | title -}}
  {{- $logo := ( .Site.Params.assets.favicon | default "favicon.ico" ) | absURL -}}
  {{- $publisher := dict
        "@type" $publisherType
        "name"  .Site.Title
        "logo"  (dict "@type" "ImageObject" "url" $logo)
    -}}
  {{- $data = merge $data (dict "publisher" $publisher) -}}

  <script type="application/ld+json">{{ $data | jsonify | safeJS }}</script>
{{ end }}
*/}}
